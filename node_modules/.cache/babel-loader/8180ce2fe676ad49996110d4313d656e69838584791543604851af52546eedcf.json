{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{CssBaseline,Grid}from\"@material-ui/core\";import Header from\"./components/Header/Header\";import List from\"./components/List/List\";import Map from\"./components/Map/Map\";import PlaceDetails from\"./components/PlaceDetails/PlaceDetails\";import{getPlacesData/*getWeatherData*/}from\"./api\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[places,setPlaces]=useState([]);//const [weatherData, setWeatherData] = useState([]);\nconst[type,setType]=useState('restaurants');const[rating,setRating]=useState('');const[filteredPlaces,setFilteredPlaces]=useState([]);const[coordinates,setCoordinates]=useState({});const[bounds,setBounds]=useState({});const[childClicked,setChildClicked]=useState(null);const[isLoading,setIsLoading]=useState(false);useEffect(()=>{navigator.geolocation.getCurrentPosition(_ref=>{let{coords:{latitude,longitude}}=_ref;setCoordinates({lat:latitude,lng:longitude});});},[]);useEffect(()=>{const filteredPlaces=places.filter(place=>place.rating>rating);setFilteredPlaces(filteredPlaces);},[rating]);useEffect(()=>{if(bounds.sw&&bounds.ne){setIsLoading(true);//getWeatherData(coordinates.lat, coordinates.lng).then((data) => setWeatherData(data));\ngetPlacesData(type,bounds.sw,bounds.ne).then(data=>{setPlaces(data===null||data===void 0?void 0:data.filter(place=>place.name&&place.num_reviews>0));setFilteredPlaces([]);setIsLoading(false);});}},[type,bounds]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Header,{setCoordinates:setCoordinates}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,style:{width:'100%'},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(List,{places:filteredPlaces.length?filteredPlaces:places,childClicked:childClicked,isLoading:isLoading,type:type,setType:setType,rating:rating,setRating:setRating})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,children:/*#__PURE__*/_jsx(Map,{setCoordinates:setCoordinates,setBounds:setBounds,coordinates:coordinates,places:filteredPlaces.length?filteredPlaces:places,setChildClicked:setChildClicked//weatherData = {weatherData}\n})})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","CssBaseline","Grid","Header","List","Map","PlaceDetails","getPlacesData","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","places","setPlaces","type","setType","rating","setRating","filteredPlaces","setFilteredPlaces","coordinates","setCoordinates","bounds","setBounds","childClicked","setChildClicked","isLoading","setIsLoading","navigator","geolocation","getCurrentPosition","_ref","coords","latitude","longitude","lat","lng","filter","place","sw","ne","then","data","name","num_reviews","children","container","spacing","style","width","item","xs","md","length"],"sources":["/Users/navaneethsathyan/Desktop/travel_advisor/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { CssBaseline, Grid } from \"@material-ui/core\";\n\nimport Header from \"./components/Header/Header\";\nimport List from \"./components/List/List\";\nimport Map from \"./components/Map/Map\";\nimport PlaceDetails from \"./components/PlaceDetails/PlaceDetails\";\n\nimport { getPlacesData, /*getWeatherData*/ } from \"./api\";\n\nfunction App(){\n    const [places, setPlaces] = useState([]);\n    //const [weatherData, setWeatherData] = useState([]);\n    const [type, setType] = useState('restaurants');\n    const [rating, setRating] = useState('');\n\n    const [filteredPlaces, setFilteredPlaces] = useState([]);\n\n    const [coordinates, setCoordinates] = useState({});\n    const [bounds, setBounds] = useState({});\n\n    const [childClicked, setChildClicked] = useState(null);\n    const [isLoading, setIsLoading] = useState(false);\n\n    useEffect(() =>{\n        navigator.geolocation.getCurrentPosition(({ coords: { latitude, longitude }}) =>{\n            setCoordinates({ lat: latitude, lng: longitude });\n        })\n    }, []);\n\n    useEffect(() => {\n        const filteredPlaces = places.filter((place) => place.rating > rating);\n        setFilteredPlaces(filteredPlaces);\n    }, \n[rating]);\n\n    useEffect(() =>{\n        if (bounds.sw && bounds.ne){\n            setIsLoading(true);\n\n            //getWeatherData(coordinates.lat, coordinates.lng).then((data) => setWeatherData(data));\n\n            getPlacesData(type, bounds.sw, bounds.ne).then((data) => {\n                setPlaces(data?.filter((place) => place.name && place.num_reviews > 0));\n                setFilteredPlaces([]);\n                setIsLoading(false);\n            })\n        }\n    }, [type, bounds]);\n\n    return (\n    <>\n        <CssBaseline />\n        <Header setCoordinates = {setCoordinates} />\n        <Grid container spacing = {3} style={{width : '100%'}}>\n            <Grid item xs = {12} md = {4}>\n                <List \n                    places = {filteredPlaces.length ? filteredPlaces: places}\n                    childClicked = {childClicked}\n                    isLoading = {isLoading}\n                    type =  {type}\n                    setType = {setType}\n                    rating = {rating}\n                    setRating = {setRating}\n                />\n            </Grid>\n\n            <Grid item xs = {12} md = {8}>\n                <Map \n                    setCoordinates = { setCoordinates }\n                    setBounds = { setBounds }\n                    coordinates = { coordinates }\n                    places = {filteredPlaces.length ? filteredPlaces : places}\n                    setChildClicked = { setChildClicked }\n                    //weatherData = {weatherData}\n                />\n            </Grid>\n        </Grid>\n    </>\n    );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}